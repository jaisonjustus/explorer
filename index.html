<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Explorer | Pryv</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Le styles -->
    <link href="./css/bootstrap.css" rel="stylesheet">
    <link href="./css/font-awesome.css" rel="stylesheet">
    <link href="./css/styles.css" rel="stylesheet">
  </head>
  <body>
    <div id="view_entry" class="container"></div>

    <script id="landing_view_template" type="text/template">
      <div class="row">
        <div class="span12 center jumbotron margin_top">
          <img src="./images/logo.jpg" width="250px">
          <h1>Explorer</h1>    
        </div>
      </div>
      <div class="row">
        <div class="offset4 span4 margin_top">
          <form id="signin_form" class="well span3 margin-top">
            <label>Username</label>
            <input id="username" class="span3" type="text" value="jonmaim"></input>
            <label>Password</label>
            <input id="password" class="span3" type="password" value="pd9d7UqfXRey"></input>
            <label>Domain</label>
            <select id="domain">
              <option>pryv.io</option>
              <option>rec.la</option>
              <option>localhost:2443</option>
            </select>
            <a id="signin_btn" type="submit" class="btn btn-primary" href="./#/token">Sign in</a>
          </form>
        </div>
      </div>
    </script>

    <script id="channel_view" type="text/template">
      <a class="channel_container">
        <span class="delete pull-left danger" style="display:none;">
          <i class="icon-remove-circle"></i>
        </span>
        <span class="edit pull-left" style="display:none;">
          <i class="icon-edit"></i>
        </span>
        <span class="channel">
          <%=name%>
        </span>
      </a>
    </script>

    <script id="folder_view" type="text/template">
      <a class="folder_container">
        <span class="delete pull-left danger">
          <i class="icon-remove-circle"></i>
        </span>
        <span class="edit pull-left">
          <i class="icon-edit"></i>
        </span>
        <span>
          <%=name%> (<%=id%>)
        </span>
      </a>
      <ul class="folder nav nav-list">
    </script>

    <script id="event_view" type="text/template">
      <td>
        <a class="delete danger"><i class="icon-remove-circle"></i></a>
        <a class="edit"><i class="icon-edit"></i></a>
      </td>
      <td><small><%=id%></small></td>
      <td><small><%=folderId%></small></td>
      <td><small><%=duration%></small></td>
      <td><small><%=value%></small></td>
      <td><small><%=comment%></small></td>
      <td><% if(file) print('<a href="'+file+'" target="_blank"><i class="icon-file"></i></a>') %></td>
    </script>

    <script id="explorer_view" type="text/template">
      <div class="row">
        <div class="span12 center jumbotron margin_top">  
          <h1>
            <img id="logo_channel" src="./images/logo.jpg" width="100px">
            Explorer
          </h1>    
          <button id="signout_btn" class="btn pull-right margin_left_5" title="Sign out">
            <i class="icon-signout"></i> Sign out
          </button>
        </div>
      </div>
      <div class="row">
        <div class="span12 center">  
          <ul id="menu" class="nav nav-tabs">
            <li class="admin"><a href="#/admin">Admin</a></li>
            <li class="token"><a href="#/token">Token</a></li>
          </ul>
        </div>
        <div id="tab"></div>
      </div>
    </script>

    <script id="tab_view" type="text/template">
      <div id="channels" class="span4">
        <h2>Channels</h2>
        <div class="well box">
          <button id="add_channel_modal_btn" class="btn pull-left" title="Add channel" style="display:none;"><i class="icon-plus"></i></button>
          <ul id="channel_list" class="nav nav-list"></ul>
        </div>
      </div>
      <div id="folders" class="span8" style="display:none;">
        <h2 class="inline">Folders</h2>
        <button id="settings_btn" class="btn pull-right margin_left_5" title="Settings" style="display:none;">
          <i class="icon-cogs"></i> Explore tokens 
        </button>
        <div id="folders" class="well">
          <div style="display:inline-block;width:100%;">
            <button id="add_folder_modal_btn" class="btn pull-left" title="Add folder"><i class="icon-plus"></i></button>
        </div>
          <ul id="folder_list" class="nav nav-list folder margin_top_20"></ul>
        </div>
      </div>
      <div id="events" class="span8" style="display:none;">
        <h2 class="inline">Events</h2>
        <div class="well">
          <button id="toggle_edit_events_btn" class="btn pull-left" style="display:none;" title="Edit events"><i class="icon-edit"></i></button>
          <button id="add_event_modal_btn" class="btn pull-left" title="Add event"><i class="icon-plus"></i></button>
          <table class="table table-striped">
            <col style="width:10%">
            <col style="width:16%">
            <col style="width:16%">
            <col style="width:10%">
            <col style="width:18%">
            <col style="width:18%">
            <col style="width:10%">
            <thead>
              <tr>
                <th></th>
                <th><a>id</a></th>
                <th><a>folderId</a></th>
                <th><a>duration</a></th>
                <th><a>value</a></th>
                <th><a>comment</a></th>
                <th><a>file</a></th>
              </tr>
            </thead>
            <tbody id="event_list"></tbody> 
          </table>
        </div>
      </div>
      <div id="modal"></div>
    </script>

    <script id="add_channel_modal" type="text/template">
      <div id="add_channel_modal" class="modal hide fade">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h3>Add Channel</h3>
        </div>
        <form class="form">
          <div class="modal-body">
            <label>Name</label>
            <input id="name" type="text" placeholder="New channel"></input>
          </div>
          <div class="modal-footer">
            <a class="btn" data-dismiss="modal">Cancel</a>
            <button id="save_btn" class="btn btn-primary">Save</button>
          </div>
        </form>
      </div> 
    </script>

    <script id="edit_channel_modal" type="text/template">
      <div id="edit_channel_modal" class="modal hide fade">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h3>Edit Channel</h3>
        </div>
        <form class="form">
          <div class="modal-body">
            <label>Name</label>
            <input id="name" type="text" placeholder="channel name"></input>
          </div>
          <div class="modal-footer">
            <a class="btn" data-dismiss="modal">Cancel</a>
            <button id="save_btn" class="btn btn-primary">Save</button>
          </div>
        </form>
      </div> 
    </script>

    <script id="add_event_modal" type="text/template">
      <div id="add_event_modal" class="modal hide fade">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h3>Add Event</h3>
        </div>
        <form id="add_event_form" class="form">
          <div class="modal-body">
            <select id="event_mode">
              <option id="mark">mark event</option>
              <option id="duration">duration event</option>
            </select>
            <label>Comment</label>
            <input id="comment" class="span4" type="text" placeholder="New event"></input>
            <label>Value (valid JSON)</label>
            <input id="value" class="span4" type="text" placeholder='{"Type":"Mass:Kilogram","value":100}' value='{"Type":"Mass:Kilogram","value":100}'></input>
          </div>
          <div class="modal-footer">
            <label id="timer" class="duration_btn">0 s.</label>
            <div class="modal_buttons">
              <a id="cancel_btn" class="btn" data-dismiss="modal">Cancel</a>
              <a id="save_btn" class="btn btn-primary mark_btn optional">Save</button>
              <a id="start_btn" class="btn btn-primary duration_btn optional"><i class="icon-play"></i> Start</a>
              <a id="stop_btn" class="btn optional"><i class="icon-stop"></i> Stop &Â Save</a>
            </div>
          </div>
        </form>
      </div> 
    </script>

    <script id="edit_event_modal" type="text/template">
      <div id="edit_event_modal" class="modal hide fade">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h3>Edit Event</h3>
        </div>
        <div class="modal-body">
          <label>Comment</label>
          <input id="comment" type="text" placeholder="New event"></input>
          <label>Value (valid JSON)</label>
          <input id="value" class="span4" type="text" placeholder='{"Type":"Mass:Kilogram","value":100}' value='{"Type":"Mass:Kilogram","value":100}'></input>
          <label>File attachment</label>
          <input id="file_upload" type="file" name="attachment">
          <button id="attach_btn" class="btn">Attach file</button>
        </div>
        <div class="modal-footer">
          <a class="btn" data-dismiss="modal">Cancel</a>
          <button id="save_btn" class="btn btn-primary">Save</button>
        </div>
      </div> 
    </script>

    <script id="token_settings_modal" type="text/template">
      <div id="token_settings_modal" class="modal hide fade">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h3>Explore Tokens</h3>
        </div>

        <table class="table table-striped">
          <theader>
            <td></td>
            <td><a>from</a></td>
            <td><a>token</a></td>
            <td></td>
          </theader>
          <tbody id="token_list">
            <tr>
              <td>
              </td>
              <td>
                <input id="from" class="input-small" type="text" value="biberli"></input>
              </td>
              <td>
                <input id="token" class="input-small" type="text" value="Pe-l7GdfP5"></input>
              </td>
              <td>
                <button id="add_btn" class="btn">+</button>
              </td>
            </tr>
          </tbody> 
        </table>

        <div class="modal-footer">
          <button id="save_btn" class="btn btn-primary">Save</button>
          <a class="btn" data-dismiss="modal">Cancel</a>
        </div>
      </div> 
    </script>

    <script id="add_folder_modal" type="text/template">
      <div id="add_folder_modal" class="modal hide fade">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h3>Add Folder</h3>
        </div>
        <form id="form" class="form">
          <div class="modal-body">
            <label>Name</label>
            <input id="name" type="text" placeholder="New folder"></input>
          </div>
          <div class="modal-footer">
            <a class="btn" data-dismiss="modal">Cancel</a>
            <button id="save_btn" class="btn btn-primary">Save</button>
          </div>
        </form>
      </div> 
    </script>

    <script id="edit_folder_modal" type="text/template">
      <div id="edit_folder_modal" class="modal hide fade">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h3>Edit Folder</h3>
        </div>
        <form id="form" class="form">
          <div class="modal-body">
            <label>Name</label>
            <input id="name" type="text" placeholder="New folder"></input>
          </div>
          <div class="modal-footer">
            <a class="btn" data-dismiss="modal">Cancel</a>
            <button id="save_btn" class="btn btn-primary">Save</button>
          </div>
        </form>
      </div> 
    </script>

    <script id="token_view" type="text/template">
      <tr>
        <td><label class="checkbox"><input type="checkbox" <%=checked?'checked="checked"':''%>></label></td>
        <td class="username"><small><%=username%></small></td>
        <td class="token"><small><%=id%></small></td>
        <td><!--<a class="danger"><i class="icon-remove-circle"></i></a>--></td>
      </tr>
    </script>

    <script src="./js/vendor/underscore.js"></script>
    <script src="./js/vendor/jquery.min.js"></script>
    <script src="./js/vendor/backbone.js"></script>
    <script src="./js/vendor/bootstrap.js"></script>
    <script src="./js/vendor/store.js"></script>
    <!--jQuery file upload -->
    <script src="./js/vendor/jquery.ui.widget.js"></script>
    <script src="./js/vendor/jquery.iframe-transport.js"></script>
    <script src="./js/vendor/jquery.fileupload.js"></script>
    <!-- <script src="./js/vendor/load-image.js"></script> -->
    <!-- <script src="./js/vendor/canvas-to-blob.js"></script> -->
    <!-- <script src="./js/vendor/jquery.fileupload-fp.js"></script> -->

    <script src="./js/common.js"></script>
    <script src="./js/models/event.js"></script>
    <script src="./js/models/channel.js"></script>
    <script src="./js/models/folder.js"></script>
    <script src="./js/models/access.js"></script>
    <script src="./js/collections/events.js"></script>
    <script src="./js/collections/channels.js"></script>
    <script src="./js/collections/folders.js"></script>
    <script src="./js/collections/accesses.js"></script>
    <script src="./js/views/explorer.js"></script>
    <script src="./js/views/landing.js"></script>
    <script src="./js/views/admin.js"></script>
    <script src="./js/views/token.js"></script>
    <script src="./js/app.js"></script>
  </body>
</html>
